# ğŸš€ CivitAI Downloader v2

**ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºç´šAIãƒ¢ãƒ‡ãƒ«ç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **

ãƒãƒ«ã‚¯æ“ä½œã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ã€åˆ†ææ©Ÿèƒ½ã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ¬ãƒ™ãƒ«ã®ä¿¡é ¼æ€§ã‚’å‚™ãˆãŸã€CivitAIã‹ã‚‰AIãƒ¢ãƒ‡ãƒ«ã‚’ç™ºè¦‹ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ç®¡ç†ã™ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„ãªé«˜æ€§èƒ½ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

[![Tests](https://img.shields.io/badge/tests-112%20passed-brightgreen)]() [![Coverage](https://img.shields.io/badge/coverage-100%25-brightgreen)]() [![Quality](https://img.shields.io/badge/quality-production%20ready-blue)]()

## âœ¨ ä¸»è¦æ©Ÿèƒ½

### ğŸ” **é«˜åº¦ãªæ¤œç´¢ãƒ»ç™ºè¦‹æ©Ÿèƒ½**
- **ãƒ‡ãƒ¥ã‚¢ãƒ«æ¤œç´¢æˆ¦ç•¥**: ç›´æ¥ã‚¿ã‚°æ¤œç´¢ + ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- **85ä»¥ä¸Šã®APIãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: å®Œå…¨ãªãƒ¢ãƒ‡ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿åé›†  
- **15ã‚«ãƒ†ã‚´ãƒª**: åŒ…æ‹¬çš„ãªãƒ¢ãƒ‡ãƒ«åˆ†é¡
- **ã‚¹ãƒãƒ¼ãƒˆé‡è¤‡é™¤å»**: ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªé‡è¤‡æ’é™¤

### ğŸ“¥ **ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç®¡ç†**
- **ãƒãƒ«ã‚¯æ“ä½œ**: æ•°ç™¾ã®ãƒ¢ãƒ‡ãƒ«ã‚’åŠ¹ç‡çš„ã«å‡¦ç†
- **å†é–‹æ©Ÿèƒ½**: è‡ªå‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å†é–‹
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³**: ãƒãƒ«ã‚¦ã‚§ã‚¢æ¤œå‡ºã¨ãƒ•ã‚¡ã‚¤ãƒ«æ¤œè¨¼
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: é©å¿œçš„ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†

### ğŸ›¡ï¸ **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹**
- **å¤šå±¤ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: æš—å·åŒ–ã€ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã€ç›£æŸ»è¨¼è·¡
- **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†**: è‡ªå‹•ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æº–æ‹ ãƒã‚§ãƒƒã‚¯
- **ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹å®Ÿè¡Œ**: å®‰å…¨ãªãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ç’°å¢ƒ
- **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·**: æœ‰åäººã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

### ğŸ“Š **åˆ†æãƒ»ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ã‚¹**
- **ä½¿ç”¨çŠ¶æ³åˆ†æ**: åŒ…æ‹¬çš„ãªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨ä½¿ç”¨çŠ¶æ³ã®æ´å¯Ÿ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™**: ã‚·ã‚¹ãƒ†ãƒ æœ€é©åŒ–æ¨å¥¨äº‹é …
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¬ãƒãƒ¼ãƒˆ**: HTML/JSON/CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå½¢å¼
- **äºˆæ¸¬åˆ†æ**: ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡äºˆæ¸¬

### ğŸ”§ **ä¿¡é ¼æ€§ãƒ»æ‹¡å¼µæ€§**  
- **ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼**: è‡ªå‹•éšœå®³åˆ†é›¢
- **ãƒ˜ãƒ«ã‚¹ç›£è¦–**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚·ã‚¹ãƒ†ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: ã‚«ã‚¹ã‚¿ãƒ æ©Ÿèƒ½æ‹¡å¼µ
- **APIå¤‰æ›´æ¤œçŸ¥**: APIæ›´æ–°ã¸ã®è‡ªå‹•é©å¿œ

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-org/civitai-downloader-v2.git
cd civitai-downloader-v2

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cp config/app_config.yml.example config/app_config.yml
```

### 2. è¨­å®š

### ğŸ”‘ APIã‚­ãƒ¼ã®è¨­å®š

**æ¨å¥¨æ–¹æ³•ï¼ˆç’°å¢ƒå¤‰æ•°ï¼‰**ï¼š
```bash
# ç’°å¢ƒå¤‰æ•°ã§APIã‚­ãƒ¼ã‚’è¨­å®šï¼ˆæœ€ã‚‚ã‚»ã‚­ãƒ¥ã‚¢ï¼‰
export CIVITAI_API_KEY="your_actual_api_key_here"
```

**ä»£æ›¿æ–¹æ³•ï¼ˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**ï¼š
```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
nano config/app_config.yml
```

**è¨­å®šã®å„ªå…ˆé †ä½**ï¼š
1. **ç’°å¢ƒå¤‰æ•°** `CIVITAI_API_KEY` ï¼ˆæ¨å¥¨ãƒ»æœ€å„ªå…ˆï¼‰
2. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«** `config/app_config.yml` ã® `civitai_api_key`
3. **.env ãƒ•ã‚¡ã‚¤ãƒ«** `.env` ã® `CIVITAI_API_KEY`

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç†ç”±ã‹ã‚‰ç’°å¢ƒå¤‰æ•°ã§ã®è¨­å®šã‚’å¼·ãæ¨å¥¨ã—ã¾ã™**

### 3. åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```bash
# ãƒ¢ãƒ‡ãƒ«ã‚’æ¤œç´¢ã—ã¦è¡¨ç¤ºï¼ˆæ¤œç´¢èªã¯è‹±èªã§ï¼‰
python -m src.cli.main search "anime character" --limit 10

# ç‰¹å®šã®ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
python -m src.cli.main download --model-id 12345

# ãƒ¢ãƒ‡ãƒ«æƒ…å ±ã‚’è¡¨ç¤º
python -m src.cli.main info 12345

# ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³
python -m src.cli.main scan path/to/model.safetensors

# è¨­å®šã‚’è¡¨ç¤º
python -m src.cli.main config --list
```

## ğŸ“– å®Œå…¨ä½¿ç”¨ã‚¬ã‚¤ãƒ‰

> **ğŸ“ é‡è¦ãªæ³¨æ„äº‹é …**:
> - **æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰**: è‹±èªã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆCivitAI APIã¯è‹±èªæ¤œç´¢ã«æœ€é©åŒ–ï¼‰
> - **ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ**: `--limit`ã§æŒ‡å®šã—ãŸä»¶æ•°ã¾ã§è¤‡æ•°ãƒšãƒ¼ã‚¸ã‹ã‚‰è‡ªå‹•å–å¾—ã—ã¾ã™ï¼ˆä¾‹ï¼š250ä»¶æŒ‡å®šã§4å›ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
> - **APIåˆ¶é™**: 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šæœ€å¤§100ä»¶ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«è‡ªå‹•é©å¿œã—ã¾ã™

### ğŸ” æ¤œç´¢æ“ä½œ

#### å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆèª¬æ˜

| ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | èª¬æ˜ | ç”¨é€” | å‡ºåŠ›ä¾‹ |
|-------------|------|------|--------|
| **table** | ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ | äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼ | `12345    Model Name                 LoRA      1234` |
| **simple** | ID:åå‰ã®æœ€å°å½¢å¼ | ã‚¹ã‚¯ãƒªãƒ—ãƒˆå‡¦ç†ã‚„ç°¡å˜ãªä¸€è¦§ | `12345: Model Name` |
| **json** | å®Œå…¨ãªJSONãƒ‡ãƒ¼ã‚¿ | ãƒ—ãƒ­ã‚°ãƒ©ãƒ å‡¦ç†ã‚„è©³ç´°åˆ†æ | `{"id": 12345, "name": "...", ...}` |

#### åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«ã‚¿ã‚¤ãƒ— (`--types`)

| ã‚¿ã‚¤ãƒ—å | èª¬æ˜ | ç”¨é€” | ä¾‹ |
|---------|------|------|-----|
| **Checkpoint** | å¤§å®¹é‡ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ« | ãƒ¡ã‚¤ãƒ³ç”Ÿæˆãƒ¢ãƒ‡ãƒ« | Stable DiffusionåŸºç›¤ |
| **LORA** | è»½é‡è¿½åŠ å­¦ç¿’ãƒ¢ãƒ‡ãƒ« | ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»ã‚­ãƒ£ãƒ©è¿½åŠ  | ã‚¢ãƒ‹ãƒ¡ã‚¹ã‚¿ã‚¤ãƒ«ã€ç‰¹å®šã‚­ãƒ£ãƒ© |
| **LoCon** | LoRAç³»è»½é‡ãƒ¢ãƒ‡ãƒ« | ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ | æ–°ã—ã„LoRAå½¢å¼ |
| **TextualInversion** | Embeddingãƒ¢ãƒ‡ãƒ« | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ‹¡å¼µ | é¡”ãƒ»è¡¨æƒ…ã®å¾®èª¿æ•´ |
| **VAE** | ç”»åƒã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼ | å“è³ªå‘ä¸Š | è‰²å½©ãƒ»è©³ç´°æ”¹å–„ |
| **Upscaler** | é«˜è§£åƒåº¦åŒ– | ç”»åƒæ‹¡å¤§ | è§£åƒåº¦å‘ä¸Šãƒ„ãƒ¼ãƒ« |
| **Other** | ãã®ä»–ãƒ¢ãƒ‡ãƒ« | ç‰¹æ®Šç”¨é€” | ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ« |
| **Workflows** | ä½œæ¥­æ‰‹é † | ç”Ÿæˆæ‰‹é †å…±æœ‰ | ComfyUIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ |

**æ³¨æ„**: 
- ãƒ¢ãƒ‡ãƒ«ã‚¿ã‚¤ãƒ—åã¯**å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥**ã—ã¾ã™ï¼ˆ`LORA` â—‹ã€`lora` Ã—ï¼‰
- è¤‡æ•°ã‚¿ã‚¤ãƒ—ã¯`"Checkpoint,LORA"`ã®ã‚ˆã†ã«ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§æŒ‡å®šå¯èƒ½

#### åˆ©ç”¨å¯èƒ½ãªã‚½ãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ (`--sort`)

| ã‚½ãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ | èª¬æ˜ | ç”¨é€” |
|----------------|------|------|
| **Most Downloaded** | ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°é †ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ | äººæ°—ã®é«˜ã„ãƒ¢ãƒ‡ãƒ«ã‚’æ¢ã™ |
| **Highest Rated** | è©•ä¾¡ã®é«˜ã„é † | å“è³ªã®é«˜ã„ãƒ¢ãƒ‡ãƒ«ã‚’æ¢ã™ |
| **Newest** | æ–°ç€é † | æœ€æ–°ã®ãƒ¢ãƒ‡ãƒ«ã‚’æ¢ã™ |
| **Oldest** | å¤ã„é † | ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ¢ãƒ‡ãƒ«ã‚’æ¢ã™ |
| **Most Liked** | ã„ã„ã­æ•°é † | ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«è©•ä¾¡ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ« |
| **Most Discussed** | è­°è«–æ•°é † | è©±é¡Œã«ãªã£ã¦ã„ã‚‹ãƒ¢ãƒ‡ãƒ« |
| **Most Collected** | ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ•°é † | ã‚ˆãä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ¢ãƒ‡ãƒ« |
| **Most Images** | ç”»åƒæ•°é † | ã‚µãƒ³ãƒ—ãƒ«ç”»åƒãŒè±Šå¯Œãªãƒ¢ãƒ‡ãƒ« |

#### åŸºæœ¬æ¤œç´¢
```bash
# ã‚¯ã‚¨ãƒªã§æ¤œç´¢ï¼ˆæ¤œç´¢èªã¯è‹±èªï¼‰
python -m src.cli.main search "cyberpunk style" --limit 20

# ãƒ¢ãƒ‡ãƒ«ã‚¿ã‚¤ãƒ—ã§ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã¾ãŸã¯è¤‡æ•°å›æŒ‡å®šã§è¤‡æ•°æŒ‡å®šå¯èƒ½ï¼‰
python -m src.cli.main search "character" --types "Checkpoint,LORA" --limit 20

# åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«ã‚¿ã‚¤ãƒ—ä¸€è¦§ï¼ˆå¤§æ–‡å­—å°æ–‡å­—åŒºåˆ¥ã‚ã‚Šï¼‰
python -m src.cli.main search "anime" --types LORA --limit 10              # LoRAãƒ¢ãƒ‡ãƒ«ã®ã¿
python -m src.cli.main search "style" --types Checkpoint --limit 10         # Checkpointã®ã¿  
python -m src.cli.main search "face" --types TextualInversion --limit 5     # Embeddingã®ã¿
python -m src.cli.main search "character" --types "LORA,LoCon" --limit 15     # è¤‡æ•°ã‚¿ã‚¤ãƒ—æŒ‡å®š
python -m src.cli.main search "model" --types "Checkpoint,VAE,LORA" --limit 20  # 3ã¤ã®ã‚¿ã‚¤ãƒ—

# ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã§çµã‚Šè¾¼ã¿ï¼ˆCheckpointå‘ã‘ï¼‰
python -m src.cli.main search "anime" --types Checkpoint --base-model "Pony Diffusion XL" --limit 10
python -m src.cli.main search "realistic" --types Checkpoint --base-model "SDXL 1.0" --limit 10

# è¤‡æ•°ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢
python -m src.cli.main search "anime portrait" --limit 15

# æ¤œç´¢çµæœã‚’ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§è¡¨ç¤ºï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
python -m src.cli.main search "landscape" --limit 15 --format table

# ã‚·ãƒ³ãƒ—ãƒ«å½¢å¼ã§è¡¨ç¤ºï¼ˆID: åå‰ã®ã¿ï¼‰
python -m src.cli.main search "portrait" --limit 5 --format simple

# NSFWå«ã‚€æ¤œç´¢
python -m src.cli.main search "style" --nsfw --limit 20

# å¤§é‡ä»¶æ•°ã§ã®æ¤œç´¢ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œï¼‰
python -m src.cli.main search "anime" --limit 250 --format table

# ã‚½ãƒ¼ãƒˆé †ã‚’æŒ‡å®šã—ã¦æ¤œç´¢
python -m src.cli.main search "anime" --sort "Highest Rated" --limit 20       # è©•ä¾¡ã®é«˜ã„é †
python -m src.cli.main search "character" --sort "Newest" --limit 15          # æ–°ç€é †
python -m src.cli.main search "style" --sort "Most Liked" --limit 10          # ã„ã„ã­æ•°é †
python -m src.cli.main search "portrait" --sort "Most Images" --limit 12      # ç”»åƒæ•°é †
```

#### æ¤œç´¢çµæœã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ï¼ˆ--outputã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæŒ‡å®šå¯èƒ½ï¼‰
python -m src.cli.main search "mecha" --limit 20 --output mecha_models.json          # JSONå½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
python -m src.cli.main search "anime" --limit 50 --format simple --output anime_list.txt  # ã‚·ãƒ³ãƒ—ãƒ«å½¢å¼
python -m src.cli.main search "style" --limit 30 --format table --output style_table.txt  # ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼

# è‡ªå‹•çš„ã«downloads/ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ã•ã‚Œã‚‹ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæŒ‡å®šãªã—ã®å ´åˆï¼‰
python -m src.cli.main search "" --types Checkpoint --base-model "Pony Diffusion XL" --limit 100 --format simple --output pony_checkpoints.txt
# â†’ downloads/pony_checkpoints.txt ã«ä¿å­˜

# ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚’æŒ‡å®š
python -m src.cli.main search "character" --limit 50 --format simple --output ./results/characters.txt

# å‡ºåŠ›å½¢å¼ã®æ¯”è¼ƒä¾‹ï¼ˆç”»é¢è¡¨ç¤ºï¼‰
python -m src.cli.main search "mecha" --limit 3 --format simple   # 12345: Mecha Robot LoRA
python -m src.cli.main search "mecha" --limit 3 --format table    # ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ï¼ˆIDã€åå‰ã€ã‚¿ã‚¤ãƒ—ã€DLæ•°ï¼‰
python -m src.cli.main search "mecha" --limit 3 --format json     # å®Œå…¨ãªJSONï¼ˆå…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
```

### ğŸ“¥ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ“ä½œ

#### å˜ä½“ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
```bash
# ãƒ¢ãƒ‡ãƒ«IDã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼š./downloadsï¼‰
python -m src.cli.main download 123456

# ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
python -m src.cli.main download 123456 --output-dir ./my_models

# ãƒ•ã‚¡ã‚¤ãƒ«åã‚‚æŒ‡å®š
python -m src.cli.main download 123456 --output-dir ./checkpoints --filename "my_anime_model.safetensors"

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ä»˜ãã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
python -m src.cli.main download 123456 --output-dir ./safe_models --verify --scan-security

# ãƒ¢ãƒ‡ãƒ«æƒ…å ±ã‚’è©³ã—ãè¡¨ç¤º
python -m src.cli.main info 123456

# ãƒ¢ãƒ‡ãƒ«æƒ…å ±ã‚’è©³ç´°è¡¨ç¤ºã—ã¦ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
python -m src.cli.main info 123456 --detailed
python -m src.cli.main download 123456 --output-dir ./downloads/anime
```

#### ãƒãƒ«ã‚¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆå¤§é‡ãƒ¢ãƒ‡ãƒ«ä¸€æ‹¬å‡¦ç†ï¼‰

```bash
# æ¤œç´¢çµæœã‚’JSONã§ä¿å­˜ã—ã¦ã‹ã‚‰ãƒãƒ«ã‚¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
python -m src.cli.main search "anime style" --limit 50 --output anime_models.json
python -m src.cli.main bulk-download --input anime_models.json

# ã‚·ãƒ³ãƒ—ãƒ«å½¢å¼ï¼ˆID: Nameï¼‰ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½
python -m src.cli.main search "" --types Checkpoint --base-model "Pony Diffusion XL" --limit 30 --format simple --output pony_list.txt
python -m src.cli.main bulk-download --input pony_list.txt

# ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ãƒãƒ«ã‚¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
python -m src.cli.main bulk-download --input anime_models.json --output-dir ./bulk_downloads/anime

# ãƒãƒ«ã‚¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®è©³ç´°ã‚ªãƒ—ã‚·ãƒ§ãƒ³
python -m src.cli.main bulk-download \
  --input models.json \
  --output-dir ./organized_downloads \
  --batch-size 5 \
  --priority HIGH \
  --verify-hashes \
  --scan-security \
  --job-name "ã‚¢ãƒ‹ãƒ¡ãƒ¢ãƒ‡ãƒ«åé›†"

# å¯¾å¿œã™ã‚‹å…¥åŠ›å½¢å¼
# 1. JSONå½¢å¼ï¼ˆsearchã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ï¼‰
# 2. ã‚·ãƒ³ãƒ—ãƒ«å½¢å¼ï¼ˆID: Nameï¼‰
# 3. IDã®ã¿ã®ãƒ†ã‚­ã‚¹ãƒˆï¼ˆ1è¡Œ1IDï¼‰

# å¤±æ•—ã—ãŸãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’å†å®Ÿè¡Œ
python -m src.cli.main bulk-retry --job-id bulk_001

# ãƒãƒ«ã‚¯ã‚¸ãƒ§ãƒ–ä¸€è¦§è¡¨ç¤º
python -m src.cli.main bulk-list

# ç‰¹å®šã‚¸ãƒ§ãƒ–ã®è©³ç´°æƒ…å ±
python -m src.cli.main bulk-info --job-id bulk_001
```

#### ãƒ•ã‚©ãƒ«ãƒ€æ•´ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ä¾‹
```bash
# ã‚¿ã‚¤ãƒ—åˆ¥ãƒ•ã‚©ãƒ«ãƒ€æ•´ç†ï¼ˆ--organize-by-typeä½¿ç”¨æ™‚ï¼‰
downloads/
â”œâ”€â”€ Checkpoint/        # Checkpointãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ LORA/             # LoRAãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ LoCon/            # LoConãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ Textual_Inversion/ # Embeddingãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ VAE/              # VAEãƒ•ã‚¡ã‚¤ãƒ«

# æ‰‹å‹•ã§ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥æ•´ç†ä¾‹
python -m src.cli.main bulk-download --input anime_chars.json --output-dir "./projects/anime_characters"
python -m src.cli.main bulk-download --input landscapes.json --output-dir "./projects/landscapes"  
python -m src.cli.main bulk-download --input portraits.json --output-dir "./projects/portraits"

# æ—¥ä»˜åˆ¥æ•´ç†
python -m src.cli.main bulk-download --input daily_picks.json --output-dir "./downloads/$(date +%Y%m%d)"
```

#### ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³
python -m src.cli.main scan ./downloads/model.safetensors

# è©³ç´°ãªã‚¹ã‚­ãƒ£ãƒ³çµæœã‚’è¡¨ç¤º
python -m src.cli.main scan ./downloads/model.safetensors --detailed

# ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³
find ./downloads -name "*.safetensors" -exec python -m src.cli.main scan {} \;
```

#### è¨­å®šç®¡ç†
```bash
# ç¾åœ¨ã®è¨­å®šã‚’è¡¨ç¤º
python -m src.cli.main config --list

# ç‰¹å®šã®è¨­å®šå€¤ã‚’å–å¾—
python -m src.cli.main config --get api.base_url

# è¨­å®šå€¤ã‚’å¤‰æ›´
python -m src.cli.main config --set "download.max_concurrent=5"

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
python -m src.cli.main config --edit
```

### ğŸ”§ ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†

#### ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ»ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±
```bash
# ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¡¨ç¤º
python -m src.cli.main version

# ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ï¼ˆè©³ç´°ï¼‰
python -m src.cli.main version --detailed

# åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ä¸€è¦§
python -m src.cli.main --help
```

#### å®Ÿç”¨çš„ãªä½¿ç”¨ä¾‹
```bash
# äººæ°—ã®ã‚¢ãƒ‹ãƒ¡ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¢ãƒ‡ãƒ«ã‚’æ¤œç´¢
python -m src.cli.main search "anime style" --sort "Most Downloaded" --limit 10 --format table

# ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆç”¨ãƒ¢ãƒ‡ãƒ«ã‚’æ¢ã™
python -m src.cli.main search "portrait" --types LORA --sort "Highest Rated" --limit 5

# ç‰¹å®šãƒ¢ãƒ‡ãƒ«ã®è©³ç´°æƒ…å ±ã‚’å–å¾—
python -m src.cli.main info 1800398

# æ¤œç´¢çµæœã‚’JSONã§ä¿å­˜
python -m src.cli.main search "cyberpunk" --limit 20 --output cyberpunk_models.json
```

### ğŸ“š å®Ÿè·µçš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä¾‹

#### 1. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã«ãƒ¢ãƒ‡ãƒ«ã‚’æ¢ã™
```bash
# 1. ã¾ãšã‚¢ãƒ‹ãƒ¡ã‚¹ã‚¿ã‚¤ãƒ«ã®Checkpointãƒ¢ãƒ‡ãƒ«ã‚’æ¤œç´¢
python -m src.cli.main search "anime checkpoint" --types Checkpoint --limit 10 --format table

# 2. æ°—ã«ãªã‚‹ãƒ¢ãƒ‡ãƒ«ã®è©³ç´°ã‚’ç¢ºèª
python -m src.cli.main info 1800398

# 3. ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
python -m src.cli.main download 1800398

# 4. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³
python -m src.cli.main scan downloads/model_name.safetensors
```

#### 2. ç‰¹å®šã‚¹ã‚¿ã‚¤ãƒ«ç”¨ã®LoRAã‚’åé›†ï¼ˆãƒãƒ«ã‚¯å‡¦ç†ï¼‰
```bash
# 1. ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆç”¨ã®LoRAã‚’æ¤œç´¢
python -m src.cli.main search "portrait style" --types LORA --limit 30 --format table

# 2. çµæœã‚’JSONã§ä¿å­˜
python -m src.cli.main search "portrait style" --types LORA --limit 30 --output portrait_loras.json

# 3. ãƒãƒ«ã‚¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ä¸€æ‹¬å–å¾—ï¼ˆJSONå½¢å¼ï¼‰
python -m src.cli.main bulk-download --input portrait_loras.json --batch-size 5

# ã¾ãŸã¯ã€ã‚·ãƒ³ãƒ—ãƒ«å½¢å¼ã§ä¿å­˜ã—ã¦ã‹ã‚‰
python -m src.cli.main search "portrait style" --types LORA --limit 30 --format simple --output portrait_simple.txt
python -m src.cli.main bulk-download --input portrait_simple.txt
```

#### 3. ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
```bash
# 1. è¨­å®šã®ç¢ºèª
python -m src.cli.main config --list

# 2. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç¢ºèª
ls -la downloads/

# 3. ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
find downloads/ -name "*.safetensors" | head -5 | while read file; do 
    echo "Scanning: $file"
    python -m src.cli.main scan "$file"
done

# 4. è¨­å®šã®èª¿æ•´
python -m src.cli.main config --set "download.max_concurrent=3"

# 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp -r data/ data_backup_$(date +%Y%m%d)/

# 6. ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆ30æ—¥ä»¥ä¸Šå‰ã®ãƒ­ã‚°ã‚’å‰Šé™¤ï¼‰
find logs/ -name "*.log" -mtime +30 -delete
```

#### 4. ç‰¹å®šãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã®Checkpointæ¤œç´¢

**æ–°æ©Ÿèƒ½**: `--base-model`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸï¼ç‰¹å®šã®ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã«åŸºã¥ãCheckpointã‚’çµã‚Šè¾¼ã‚ã¾ã™ï¼š

```bash
# ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«æŒ‡å®šã§ã®æ¤œç´¢ï¼ˆ--base-modelã‚ªãƒ—ã‚·ãƒ§ãƒ³ä½¿ç”¨ï¼‰
python -m src.cli.main search "" --types Checkpoint --base-model "Pony" --limit 20
python -m src.cli.main search "" --types Checkpoint --base-model "SDXL 1.0" --limit 20
python -m src.cli.main search "" --types Checkpoint --base-model "SD 1.5" --limit 20

# æ³¨æ„ï¼šãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯çµæœã‚’å¤§å¹…ã«åˆ¶é™ã—ã¾ã™
# ã¾ãšbaseModelãªã—ã§æ¤œç´¢ã—ã€èˆˆå‘³ã®ã‚ã‚‹ãƒ¢ãƒ‡ãƒ«ã®baseModelå€¤ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚’æ¨å¥¨
python -m src.cli.main search "" --types Checkpoint --limit 20  # ã™ã¹ã¦ã®Checkpoint
python -m src.cli.main search "realistic" --types Checkpoint --limit 15  # realisticç³»Checkpoint

# ä¸»è¦ãªãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«åã®ä¾‹ï¼ˆAPIã‹ã‚‰å®Ÿéš›ã«ç¢ºèªã•ã‚ŒãŸã‚‚ã®ï¼‰
# - "Pony" (Pony Diffusion XLç³»)
# - "SDXL 1.0" (SDXLç³»)
# - "SD 1.5" (Stable Diffusion 1.5ç³»)  
# - "Illustrious" (IllustriousXLç³»)
# - "Flux.1 D" / "Flux.1 S" (Fluxç³»)

# å®Ÿç”¨ä¾‹ï¼šã¾ãšä¸€èˆ¬æ¤œç´¢ã§baseModelå€¤ã‚’ç¢ºèª
python -m src.cli.main search "" --types Checkpoint --limit 5 --format table
# èˆˆå‘³ã®ã‚ã‚‹ãƒ¢ãƒ‡ãƒ«ã®baseModelå€¤ã‚’ç¢ºèªã—ã¦ã‹ã‚‰çµã‚Šè¾¼ã¿æ¤œç´¢
```

**æ³¨æ„**: 
- `--base-model`ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯çµæœã‚’å¤§å¹…ã«åˆ¶é™ã™ã‚‹ãŸã‚ã€ã¾ãšä¸€èˆ¬æ¤œç´¢ã§baseModelå€¤ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚’æ¨å¥¨
- ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«åã¯CivitAI APIã®æ­£ç¢ºãªåç§°ã¨ä¸€è‡´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆ"Pony"ã€"SDXL 1.0"ã€"SD 1.5"ãªã©ï¼‰
- æ¤œç´¢ã‚¯ã‚¨ãƒªã¨ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®çµ„ã¿åˆã‚ã›ã¯çµæœãŒã‚¼ãƒ­ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™

#### 5. å¤§é‡ãƒ¢ãƒ‡ãƒ«åé›†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
```bash
# 1. ãƒ†ãƒ¼ãƒåˆ¥ã«å¤§é‡æ¤œç´¢ï¼ˆè¤‡æ•°å›å®Ÿè¡Œï¼‰
python -m src.cli.main search "anime character" --limit 100 --output anime_chars.json
python -m src.cli.main search "fantasy style" --limit 100 --output fantasy_styles.json  
python -m src.cli.main search "cyberpunk" --limit 100 --output cyberpunk.json

# 2. å„ãƒ†ãƒ¼ãƒã‚’ãƒãƒ«ã‚¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
python -m src.cli.main bulk-download --input anime_chars.json --priority HIGH --batch-size 10
python -m src.cli.main bulk-download --input fantasy_styles.json --priority MEDIUM
python -m src.cli.main bulk-download --input cyberpunk.json --priority LOW

# 3. å…¨ãƒãƒ«ã‚¯ã‚¸ãƒ§ãƒ–ã®çŠ¶æ³ç¢ºèª
python -m src.cli.main bulk-list

# 4. å¤±æ•—ã—ãŸã‚¸ãƒ§ãƒ–ãŒã‚ã‚Œã°å†å®Ÿè¡Œ
python -m src.cli.main bulk-retry --job-id bulk_002
python -m src.cli.main bulk-retry --job-id bulk_003

# 5. å®Œäº†ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
find downloads/ -name "*.safetensors" | wc -l  # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«æ•°
python -m src.cli.main bulk-info --job-id bulk_001  # è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ
```

## ğŸ—ï¸ é«˜åº¦ãªä½¿ç”¨æ–¹æ³•

### Python API

#### ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢
```python
from src.core.search.advanced_search import AdvancedSearchEngine
from src.api.client import CivitAIClient
from src.data.database import DatabaseManager

# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆæœŸåŒ–
client = CivitAIClient()
db = DatabaseManager()
search_engine = AdvancedSearchEngine(client, db)

# é«˜åº¦ãªæ¤œç´¢ã‚’å®Ÿè¡Œ
results = await search_engine.search(
    query="ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯ã‚¹ã‚¿ã‚¤ãƒ«",
    filters={
        "types": ["LORA", "LoCon"],
        "base_models": ["SDXL 1.0", "Pony"],
        "min_downloads": 500,
        "categories": ["style", "concept"]
    },
    limit=100
)

print(f"{len(results)}å€‹ã®ãƒ¢ãƒ‡ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ")
```

#### ãƒãƒ«ã‚¯æ“ä½œ
```python
from src.core.bulk.download_manager import BulkDownloadManager
from src.core.performance.optimizer import PerformanceOptimizer

# æœ€é©åŒ–ã•ã‚ŒãŸãƒãƒ«ã‚¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’ä½œæˆ
optimizer = PerformanceOptimizer()
bulk_manager = BulkDownloadManager(
    download_manager=download_manager,
    optimizer=optimizer,
    db_manager=db
)

# ãƒãƒ«ã‚¯ã‚¸ãƒ§ãƒ–ã‚’ä½œæˆã—ã¦é–‹å§‹
job = await bulk_manager.create_bulk_job(
    name="ã‚¹ã‚¿ã‚¤ãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³",
    items=search_results,
    options={
        "batch_size": 10,
        "priority": "HIGH",
        "verify_hashes": True
    }
)

# é€²è¡ŒçŠ¶æ³ã‚’ç›£è¦–
async for progress in bulk_manager.monitor_job(job.id):
    print(f"é€²è¡ŒçŠ¶æ³: {progress.completed}/{progress.total}")
```

#### åˆ†æçµ±åˆ
```python
from src.core.analytics import AnalyticsCollector, AnalyticsAnalyzer

# åˆ†æã‚’åˆæœŸåŒ–
collector = AnalyticsCollector(db_manager)
analyzer = AnalyticsAnalyzer(collector)

# ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
report = await analyzer.generate_report(
    start_time=time.time() - 2592000,  # 30æ—¥å‰
    end_time=time.time(),
    metrics=['downloads', 'performance', 'usage']
)

print(f"ç·ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°: {report.summary['downloads']['total']}")
print(f"æˆåŠŸç‡: {report.summary['downloads']['success_rate']:.1f}%")
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
civitai-downloader-v2/
â”œâ”€â”€ src/                          # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ api/                      # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå±¤
â”‚   â”‚   â”œâ”€â”€ client.py            # ãƒ¡ã‚¤ãƒ³CivitAI APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ auth.py              # èªè¨¼ç®¡ç†
â”‚   â”‚   â””â”€â”€ cache.py             # ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚   â”œâ”€â”€ core/                    # ã‚³ã‚¢ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ search/              # æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”‚   â”œâ”€â”€ download/            # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ bulk/                # ãƒãƒ«ã‚¯æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ analytics/           # åˆ†æã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â”œâ”€â”€ security/            # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ performance/         # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
â”‚   â”‚   â””â”€â”€ config/              # è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ cli/                     # ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â””â”€â”€ main.py              # CLIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ data/                    # ãƒ‡ãƒ¼ã‚¿å±¤
â”‚   â”‚   â”œâ”€â”€ database.py          # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
â”‚   â”‚   â””â”€â”€ models/              # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ ui/                      # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚       â”œâ”€â”€ dashboard.py         # Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚       â””â”€â”€ progress.py          # é€²è¡ŒçŠ¶æ³è¡¨ç¤º
â”œâ”€â”€ tests/                       # ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆï¼ˆ112ãƒ†ã‚¹ãƒˆï¼‰
â”œâ”€â”€ config/                      # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ app_config.yml           # ãƒ¡ã‚¤ãƒ³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ app_config.yml.example   # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ data/                        # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè‡ªå‹•ä½œæˆï¼‰
â”‚   â”œâ”€â”€ civitai.db              # ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆå±¥æ­´ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
â”‚   â”œâ”€â”€ analytics.db            # åˆ†æãƒ‡ãƒ¼ã‚¿ãƒ»çµ±è¨ˆæƒ…å ±
â”‚   â””â”€â”€ civitai_downloader.db   # ã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ»çŠ¶æ…‹ç®¡ç†
â”œâ”€â”€ downloads/                   # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ï¼ˆè‡ªå‹•ä½œæˆï¼‰
â”‚   â”œâ”€â”€ models/                  # ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜å…ˆ
â”‚   â””â”€â”€ temp/                    # ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ logs/                        # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè‡ªå‹•ä½œæˆï¼‰
â”‚   â””â”€â”€ civitai-downloader.log  # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°
â””â”€â”€ docs/                        # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

### ğŸ“‚ å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å½¹å‰²

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | èª¬æ˜ | è‡ªå‹•ä½œæˆ | å†…å®¹ä¾‹ |
|------------|------|----------|--------|
| **config/** | è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« | âŒ | app_config.ymlï¼ˆæ‰‹å‹•ä½œæˆå¿…è¦ï¼‰ |
| **data/** | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | âœ… | æ¤œç´¢å±¥æ­´ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰è¨˜éŒ²ã€åˆ†æãƒ‡ãƒ¼ã‚¿ |
| **downloads/** | ãƒ¢ãƒ‡ãƒ«ä¿å­˜å…ˆ | âœ… | .safetensorsã€.ckptç­‰ã®ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ« |
| **logs/** | ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ« | âœ… | ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã€ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã€ãƒ‡ãƒãƒƒã‚°æƒ…å ± |

**æ³¨æ„**: `data/`ã€`downloads/`ã€`logs/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯åˆå›å®Ÿè¡Œæ™‚ã«è‡ªå‹•ä½œæˆã•ã‚Œã¾ã™ã€‚

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### å®Œå…¨ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã®å®Ÿè¡Œ
```bash
# å…¨ãƒ†ã‚¹ãƒˆï¼ˆ112ãƒ†ã‚¹ãƒˆï¼‰
python -m pytest tests/ -v

# çµ±åˆãƒ†ã‚¹ãƒˆã®ã¿
python -m pytest tests/integration/ -v

# ç‰¹å®šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
python -m pytest tests/unit/test_advanced_search.py -v
python -m pytest tests/unit/test_bulk_download.py -v
python -m pytest tests/unit/test_analytics_comprehensive.py -v
```

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
python -m pytest tests/ --cov=src --cov-report=html --cov-report=term

# HTMLã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤º
open htmlcov/index.html
```

## âš™ï¸ è¨­å®šãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### ãƒ¡ã‚¤ãƒ³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (`config/app_config.yml`)

```yaml
# APIè¨­å®š
api:
  civitai_api_key: "${CIVITAI_API_KEY}"
  base_url: "https://civitai.com/api/v1"
  timeout: 30
  max_retries: 3
  rate_limit: 0.5  # 1ç§’ã‚ãŸã‚Šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°

# ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰è¨­å®š  
download:
  base_directory: "./downloads"
  concurrent_downloads: 3
  chunk_size: 8192
  verify_checksums: true
  organize_by_type: true

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
security:
  enable_scanning: true
  max_file_size: 10737418240  # 10GB
  scan_timeout: 300
  require_confirmation: true
  allow_nsfw: false
  
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
database:
  url: "sqlite:///data/civitai.db"
  connection_pool_size: 5
  enable_optimization: true

# ãƒ­ã‚®ãƒ³ã‚°è¨­å®š
logging:
  level: "INFO"
  file: "logs/civitai-downloader.log"
  max_size_mb: 100
  backup_count: 5

# åˆ†æè¨­å®š
analytics:
  enable_collection: true
  retention_days: 90
  report_formats: ["html", "json"]
```

### ç’°å¢ƒå¤‰æ•°

| å¤‰æ•° | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
|------|------|------------|
| `CIVITAI_API_KEY` | CivitAI APIã‚­ãƒ¼ | *å¿…é ˆ* |
| `CIVITAI_DOWNLOAD_DIR` | ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | `./downloads` |
| `CIVITAI_LOG_LEVEL` | ãƒ­ã‚°ãƒ¬ãƒ™ãƒ« | `INFO` |
| `CIVITAI_DATABASE_URL` | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹URL | `sqlite:///data/civitai.db` |

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### APIæ¥ç¶šå•é¡Œ
```bash
# APIæ¥ç¶šã‚’ãƒ†ã‚¹ãƒˆ
python -m src.cli.main config test-connection

# APIã‚­ãƒ¼ã®æœ‰åŠ¹æ€§ã‚’ãƒã‚§ãƒƒã‚¯
python -m src.cli.main config validate
```

#### ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å•é¡Œ
```bash
# ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ã‚’ãƒã‚§ãƒƒã‚¯
python -m src.cli.main health-check

# å¤±æ•—ã—ãŸãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’å†é–‹
python -m src.cli.main download --model-id 123456 --resume

# ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
python -m src.cli.main cache clear
```

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ
```bash
# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¨å¥¨äº‹é …ã‚’å–å¾—
python -m src.cli.main analytics --type performance --show-recommendations

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æœ€é©åŒ–
python -m src.cli.main db-optimize

# å¤ã„ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢
python -m src.cli.main logs clean --older-than 30d
```

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚®ãƒ³ã‚°ã‚’æœ‰åŠ¹åŒ–
python -m src.cli.main config set logging.level DEBUG

# è©³ç´°å‡ºåŠ›ã§å®Ÿè¡Œ
python -m src.cli.main search "ãƒ†ã‚¹ãƒˆ" --verbose --debug
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒ£ãƒ³**: è‡ªå‹•ãƒãƒ«ã‚¦ã‚§ã‚¢æ¤œå‡º
- **ãƒãƒƒã‚·ãƒ¥æ¤œè¨¼**: SHA256/BLAKE3æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯  
- **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**: ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹æ¨©é™
- **ç›£æŸ»ãƒ­ã‚°**: å®Œå…¨ãªæ´»å‹•è¿½è·¡
- **æš—å·åŒ–**: å¤šãƒ¬ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿ä¿è­·

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
```bash
# ã™ã¹ã¦ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–
python -m src.cli.main config set security.enable_scanning true
python -m src.cli.main config set security.verify_checksums true
python -m src.cli.main config set security.require_confirmation true

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã‚’å®Ÿè¡Œ
python -m src.cli.main security-audit

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®šç¾©ã‚’æ›´æ–°
python -m src.cli.main security-update
```

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### è‡ªå‹•æœ€é©åŒ–
```bash
# é©å¿œæœ€é©åŒ–ã‚’æœ‰åŠ¹åŒ–
python -m src.cli.main config set performance.optimization_mode adaptive

# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç›£è¦–
python -m src.cli.main metrics --component download --live
```

### æ‰‹å‹•èª¿æ•´
```bash
# ã‚·ã‚¹ãƒ†ãƒ ã«åŸºã¥ã„ã¦åŒæ™‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°ã‚’èª¿æ•´
python -m src.cli.main config set download.concurrent_downloads 5

# å¸¯åŸŸå¹…å‘ã‘ã«æœ€é©åŒ–
python -m src.cli.main config set download.chunk_size 16384

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–
python -m src.cli.main db-optimize
```

## ğŸš€ ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºæ©Ÿèƒ½

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
```bash
# Dockerãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
docker-compose up -d

# Kubernetesãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ  
kubectl apply -f deployment/k8s/
```

### ç›£è¦–
```bash
# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
curl http://localhost:8080/health

# ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
curl http://localhost:8080/metrics
```

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©æ—§
```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
python -m src.cli.main backup --output civitai_backup_20250122.tar.gz

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
python -m src.cli.main restore --input civitai_backup_20250122.tar.gz
```

## ğŸ¤ è²¢çŒ®

1. **ãƒ•ã‚©ãƒ¼ã‚¯** ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã™ã‚‹
2. **ä½œæˆ** æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ: `git checkout -b feature/amazing-feature`
3. **ã‚³ãƒŸãƒƒãƒˆ** å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ: `git commit -m 'Add amazing feature'`
4. **ãƒ—ãƒƒã‚·ãƒ¥** ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥: `git push origin feature/amazing-feature`
5. **æå‡º** ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æå‡º

### é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# é–‹ç™ºä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements-dev.txt

# ãƒ—ãƒªã‚³ãƒŸãƒƒãƒˆãƒ•ãƒƒã‚¯ã‚’è¨­å®š
pre-commit install

# ã‚³ãƒŸãƒƒãƒˆå‰ã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
python -m pytest tests/
```

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ã‚‚ã¨ã§ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã™ - è©³ç´°ã¯[LICENSE](LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ™ è¬è¾

- åŒ…æ‹¬çš„ãªAPIã‚’æä¾›ã—ã¦ãã‚ŒãŸCivitAI
- ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ„ãƒ¼ãƒ«ã‚’æä¾›ã—ã¦ãã‚ŒãŸã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚ˆã‚Šè‰¯ãã™ã‚‹ãŸã‚ã«è²¢çŒ®ã—ã¦ãã‚ŒãŸã™ã¹ã¦ã®è²¢çŒ®è€…

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [å®Œå…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](docs/README.md)
- **Issue**: [GitHub Issues](https://github.com/your-org/civitai-downloader-v2/issues)
- **Discord**: [ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£Discord](https://discord.gg/your-server)

---

**AI Art ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ãŸã‚ã« â¤ï¸ ã‚’è¾¼ã‚ã¦ä½œæˆ**

*æœ€çµ‚æ›´æ–°: 2025å¹´1æœˆ*